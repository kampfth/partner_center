import{r as i,G as pe,j as m}from"./index-Cq-jti8V.js";import{c as _,s as X,b as Z,d as q,e as fe,f as me,i as he,g as G,p as ve,r as J,D as ye,u as H,h as xe,S as ge,j as Ae,k as Q,l as Pe,m as Ie,n as be,o as Se,q as Ee,Z as Le,L as ke,t as ee,v as $,w as U,x as De,J as Ce,y as C,z as je,C as we,A as Oe,B as Re,a as Ne,R as Te,T as _e}from"./CategoricalChart-BKOXm1el.js";import{u as We,G as Ke,C as Fe,a as Be,X as ze,Y as V}from"./CartesianChart-IFvSsSww.js";import{L as Ge}from"./Legend-DBWVt3PH.js";import{g as $e,a as Ue,D as Ve,A as Me}from"./Area-BGMGYXZV.js";import{S as Ye}from"./ErrorBarContext-gbMAlVlH.js";import{S as Xe}from"./ActiveShapeUtils-CdOLM_DN.js";var te=(e,t,r,a)=>Z(e,"xAxis",t,a),ae=(e,t,r,a)=>q(e,"xAxis",t,a),re=(e,t,r,a)=>Z(e,"yAxis",r,a),ie=(e,t,r,a)=>q(e,"yAxis",r,a),Ze=_([X,te,re,ae,ie],(e,t,r,a,n)=>he(e,"xAxis")?G(t,a,!1):G(r,n,!1)),qe=(e,t,r,a,n)=>n;function Je(e){return e.type==="line"}var He=_([me,qe],(e,t)=>e.filter(Je).find(r=>r.id===t)),Qe=_([X,te,re,ae,ie,He,Ze,fe],(e,t,r,a,n,o,s,d)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:p}=d;if(!(o==null||t==null||r==null||a==null||n==null||a.length===0||n.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:u,data:f}=o,h;if(f!=null&&f.length>0?h=f:h=l?.slice(c,p+1),h!=null)return gt({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataKey:u,bandSize:s,displayedData:h})}}),et=["id"],tt=["type","layout","connectNulls","needClip","shape"],at=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j.apply(null,arguments)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(a){rt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rt(e,t,r){return(t=it(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function it(e){var t=nt(e,"string");return typeof t=="symbol"?t:t+""}function nt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W(e,t){if(e==null)return{};var r,a,n=ot(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ot(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var st=e=>{var{dataKey:t,name:r,stroke:a,legendType:n,hide:o}=e;return[{inactive:o,dataKey:t,type:n,color:a,value:Q(r,t),payload:e}]},lt=i.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:o,name:s,hide:d,unit:l,tooltipType:c,id:p}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:o,dataKey:t,nameKey:void 0,name:Q(s,t),hide:d,type:c,color:a,unit:l,graphicalItemId:p}};return i.createElement(Pe,{tooltipEntrySettings:u})}),ne=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function dt(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],n=0;n<t;++n)a=[...a,...r];return a}var ct=(e,t,r)=>{var a=r.reduce((u,f)=>u+f);if(!a)return ne(t,e);for(var n=Math.floor(e/a),o=e%a,s=t-e,d=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>o){d=[...r.slice(0,l),o-c];break}var p=d.length%2===0?[0,s]:[s];return[...dt(r,n),...d,...p].map(u=>"".concat(u,"px")).join(", ")};function ut(e){var{clipPathId:t,points:r,props:a}=e,{dot:n,dataKey:o,needClip:s}=a,{id:d}=a,l=W(a,et),c=Re(l);return i.createElement(Ve,{points:r,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:c,needClip:s,clipPathId:t})}function pt(e){var{showLabels:t,children:r,points:a}=e,n=i.useMemo(()=>a?.map(o=>{var s,d,l={x:(s=o.x)!==null&&s!==void 0?s:0,y:(d=o.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return P(P({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[a]);return i.createElement(we,{value:t?n:void 0},r)}function Y(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:n,props:o}=e,{type:s,layout:d,connectNulls:l,needClip:c,shape:p}=o,u=W(o,tt),f=P(P({},Oe(u)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:a,type:s,layout:d,connectNulls:l,strokeDasharray:n??o.strokeDasharray});return i.createElement(i.Fragment,null,a?.length>1&&i.createElement(Xe,j({shapeType:"curve",option:p},f,{pathRef:r})),i.createElement(ut,{points:a,clipPathId:t,props:o}))}function ft(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function mt(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:n,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:d,isAnimationActive:l,animationBegin:c,animationDuration:p,animationEasing:u,animateNewValues:f,width:h,height:A,onAnimationEnd:v,onAnimationStart:b}=r,I=n.current,y=De(s,"recharts-line-"),x=i.useRef(y),[L,k]=i.useState(!1),O=!L,R=i.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),N=i.useCallback(()=>{typeof b=="function"&&b(),k(!0)},[b]),S=ft(a.current),w=i.useRef(0);x.current!==y&&(w.current=o.current,x.current=y);var K=w.current;return i.createElement(pt,{points:s,showLabels:O},r.children,i.createElement(Ce,{animationId:y,begin:c,duration:p,isActive:l,easing:u,onAnimationEnd:R,onAnimationStart:N,key:y},E=>{var le=C(K,S+K,E),T=Math.min(le,S),D;if(l)if(d){var de="".concat(d).split(/[,\s]+/gim).map(g=>parseFloat(g));D=ct(T,S,de)}else D=ne(S,T);else D=d==null?void 0:String(d);if(E>0&&S>0&&(n.current=s,o.current=Math.max(o.current,T)),I){var ce=I.length/s.length,F=E===1?s:s.map((g,ue)=>{var B=Math.floor(ue*ce);if(I[B]){var z=I[B];return P(P({},g),{},{x:C(z.x,g.x,E),y:C(z.y,g.y,E)})}return f?P(P({},g),{},{x:C(h*2,g.x,E),y:C(A/2,g.y,E)}):P(P({},g),{},{x:g.x,y:g.y})});return n.current=F,i.createElement(Y,{props:r,points:F,clipPathId:t,pathRef:a,strokeDasharray:D})}return i.createElement(Y,{props:r,points:s,clipPathId:t,pathRef:a,strokeDasharray:D})}),i.createElement(je,{label:r.label}))}function ht(e){var{clipPathId:t,props:r}=e,a=i.useRef(null),n=i.useRef(0),o=i.useRef(null);return i.createElement(mt,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:n,pathRef:o})}var vt=(e,t)=>{var r,a;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:ee(e.payload,t)}};class yt extends i.Component{render(){var{hide:t,dot:r,points:a,className:n,xAxisId:o,yAxisId:s,top:d,left:l,width:c,height:p,id:u,needClip:f,zIndex:h}=this.props;if(t)return null;var A=pe("recharts-line",n),v=u,{r:b,strokeWidth:I}=$e(r),y=Ee(r),x=b*2+I,L=f?"url(#clipPath-".concat(y?"":"dots-").concat(v,")"):void 0;return i.createElement(Le,{zIndex:h},i.createElement(ke,{className:A},f&&i.createElement("defs",null,i.createElement(Ke,{clipPathId:v,xAxisId:o,yAxisId:s}),!y&&i.createElement("clipPath",{id:"clipPath-dots-".concat(v)},i.createElement("rect",{x:l-x/2,y:d-x/2,width:c+x,height:p+x}))),i.createElement(Ye,{xAxisId:o,yAxisId:s,data:a,dataPointFormatter:vt,errorBarOffset:0},i.createElement(ht,{props:this.props,clipPathId:v}))),i.createElement(Ue,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:L}))}}var oe={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ye.line,type:"linear"};function xt(e){var t=J(e,oe),{activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:o,animationEasing:s,connectNulls:d,dot:l,hide:c,isAnimationActive:p,label:u,legendType:f,xAxisId:h,yAxisId:A,id:v}=t,b=W(t,at),{needClip:I}=We(h,A),y=Ie(),x=be(),L=H(),k=Se(w=>Qe(w,h,A,L,v));if(x!=="horizontal"&&x!=="vertical"||k==null||y==null)return null;var{height:O,width:R,x:N,y:S}=y;return i.createElement(yt,j({},b,{id:v,connectNulls:d,dot:l,activeDot:r,animateNewValues:a,animationBegin:n,animationDuration:o,animationEasing:s,isAnimationActive:p,hide:c,label:u,legendType:f,xAxisId:h,yAxisId:A,points:k,layout:x,height:O,width:R,left:N,top:S,needClip:I}))}function gt(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:o,dataKey:s,bandSize:d,displayedData:l}=e;return l.map((c,p)=>{var u=ee(c,s);if(t==="horizontal"){var f=$({axis:r,ticks:n,bandSize:d,entry:c,index:p}),h=U(u)?null:a.scale(u);return{x:f,y:h,value:u,payload:c}}var A=U(u)?null:r.scale(u),v=$({axis:a,ticks:o,bandSize:d,entry:c,index:p});return A==null||v==null?null:{x:A,y:v,value:u,payload:c}}).filter(Boolean)}function At(e){var t=J(e,oe),r=H();return i.createElement(xe,{id:t.id,type:"line"},a=>i.createElement(i.Fragment,null,i.createElement(ge,{legendPayload:st(t)}),i.createElement(lt,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),i.createElement(Ae,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),i.createElement(xt,j({},t,{id:a}))))}var se=i.memo(At,ve);se.displayName="Line";var Pt=["axis"],It=i.forwardRef((e,t)=>i.createElement(Fe,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pt,tooltipPayloadSearcher:Ne,categoricalChartProps:e,ref:t}));function bt(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function St(e){return e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(1)}k`:`$${e.toFixed(0)}`}function Et(e){return e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString()}function Rt({data:e}){const t=e.some(r=>r.units!==void 0&&r.units>0);return m.jsx("div",{className:"h-[200px] sm:h-[280px] -ml-2",children:m.jsx(Te,{width:"100%",height:"100%",children:m.jsxs(It,{data:e,margin:{top:10,right:t?45:10,left:0,bottom:5},children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"salesGradientGraphics",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:.2}),m.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),m.jsx(Be,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",strokeOpacity:.4,vertical:!1}),m.jsx(ze,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:11,tickLine:!1,axisLine:!1,dy:8,interval:"preserveStartEnd"}),m.jsx(V,{yAxisId:"sales",stroke:"hsl(var(--muted-foreground))",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:St,width:52}),t&&m.jsx(V,{yAxisId:"units",orientation:"right",stroke:"#22d3ee",fontSize:11,tickLine:!1,axisLine:!1,tickFormatter:Et,width:40}),m.jsx(_e,{cursor:!1,contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"12px",padding:"12px 16px",fontSize:"13px"},labelStyle:{color:"hsl(var(--foreground))",marginBottom:"4px",fontWeight:500},itemStyle:{color:"hsl(var(--foreground))"},formatter:(r,a)=>a==="sales"?[bt(r),"Sales"]:a==="units"?[r.toLocaleString(),"Units"]:[r,a]}),t&&m.jsx(Ge,{verticalAlign:"top",height:30,formatter:r=>r==="sales"?"Sales ($)":r==="units"?"Units":r}),m.jsx(Me,{yAxisId:"sales",type:"monotone",dataKey:"sales",stroke:"hsl(var(--primary))",strokeWidth:2,fill:"url(#salesGradientGraphics)"}),t&&m.jsx(se,{yAxisId:"units",type:"monotone",dataKey:"units",stroke:"#22d3ee",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#22d3ee"}})]})})})}export{Rt as default};
