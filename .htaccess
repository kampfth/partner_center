RewriteEngine On

# Don't rewrite existing files/directories
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Keep backend routes as-is
RewriteRule ^backend/ - [L]

# SPA fallback: send everything else to index.php (which serves app.html after auth)
RewriteRule ^ index.php [L]

# Redirecionar entrada padrão para index.php
DirectoryIndex index.php

# Bloquear acesso direto ao app.html e dotfiles
<FilesMatch "^(app\.html|\.env|\.git)">
    Order allow,deny
    Deny from all
</FilesMatch>

# Proteção básica
Options -Indexes
